(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[807],{428:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(4568),a=t(7620),l=t(1465),n=t(6018),i=t(7789),c=t(6827);function d(e){let s=e.split(",").map(e=>e.trim()),t=Math.round(255*parseFloat(s[0].split(":")[1]));return[t,Math.round(255*parseFloat(s[1].split(":")[1])),Math.round(255*parseFloat(s[2].split(":")[1]))]}function o(e){let{ballA:s,ballB:t,className:l="h-16 w-16"}=e,n=(0,a.useRef)(null),[i,o]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{var e,r;if(!n.current)return;let a=(null==(e=s.iconColorList)?void 0:e.map(d))||[],l=(null==(r=t.iconColorList)?void 0:r.map(d))||[];if(0===a.length||0===l.length)return o(!1);let i=new Image;i.crossOrigin="anonymous",i.onload=()=>{let e=n.current;if(!e)return;let s=e.getContext("2d",{willReadFrequently:!0});if(!s)return;e.width=i.width,e.height=i.height,s.drawImage(i,0,0);let t=s.getImageData(0,0,e.width,e.height),r=t.data,c=new Map,d=(e,s,t)=>{let r=e<<16|s<<8|t;if(c.has(r))return c.get(r);for(let n=0;n<a.length;n++){let[i,d,o]=a[n];if(i===e&&d===s&&o===t){let e=Math.floor(n*l.length/a.length);return c.set(r,e),e}}let n=0,i=1/0;for(let r=0;r<a.length;r++){let[l,c,d]=a[r],o=(l-e)**2+(c-s)**2+(d-t)**2;o<i&&(i=o,n=r)}let d=Math.floor(n*l.length/a.length);return c.set(r,d),d};for(let e=0;e<r.length;e+=4){if(0===r[e+3])continue;let s=r[e],[t,a,n]=l[d(s,r[e+1],r[e+2])];r[e]=t,r[e+1]=a,r[e+2]=n}s.putImageData(t,0,0),o(!1)},i.onerror=()=>{console.error("Failed to load image:",s.slug),o(!1)},i.src=(0,c.W)("/images/balls/".concat(s.slug,".png"))})()},[s,t]),(0,r.jsxs)("div",{className:"relative ".concat(l),children:[(0,r.jsx)("canvas",{ref:n,className:"h-full w-full",style:{imageRendering:"pixelated",objectFit:"contain"}}),i&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-xs text-secondary",children:"Loading..."})})]})}var h=t(2635),m=t(8459);function x(){let[e,s]=(0,a.useState)(null),[t,c]=(0,a.useState)(null),[d,x]=(0,a.useState)(null),[p,g]=(0,a.useState)(""),u=(0,l.qy)(),f=(e,s)=>{let t,a=e["level".concat(s)],l=(e=>{if(!e.ballColor)return"#f59e0b";let s=e.ballColor.match(/r:\s*([\d.]+),\s*g:\s*([\d.]+),\s*b:\s*([\d.]+)/);if(!s)return"#f59e0b";let t=Math.round(255*parseFloat(s[1])),r=Math.round(255*parseFloat(s[2])),a=Math.round(255*parseFloat(s[3]));return"#".concat(t.toString(16).padStart(2,"0")).concat(r.toString(16).padStart(2,"0")).concat(a.toString(16).padStart(2,"0"))})(e),n=[],i=0,c=/\{\[(\w+)\]\}/g;for(;null!==(t=c.exec(e.description));){t.index>i&&n.push(e.description.substring(i,t.index));let s=t[1],d=a[s];if(void 0!==d){let e=d;if(s.includes("_length")||s.includes("_len")||s.includes("cycle")||s.includes("cooldown")){let s="number"==typeof d?d:parseFloat(String(d));isNaN(s)||(e=(s/10).toFixed(1))}else(s.includes("_chance")||s.includes("_pct"))&&(e="".concat(d,"%"));n.push((0,r.jsx)("span",{className:"font-bold",style:{color:l},children:String(e)},t.index))}else n.push(t[0]);i=c.lastIndex}i<e.description.length&&n.push(e.description.substring(i));let d=n[n.length-1];return"string"!=typeof d||d.trim().endsWith(".")?"string"!=typeof d&&n.length>0&&n.push("."):n[n.length-1]=d+".",n},b=u.filter(e=>e.name.toLowerCase().includes(p.toLowerCase())),y=e&&t?((e,s)=>{if(e.slug===s.slug)return null;for(let t of u)if(t.fusionRecipe.length>0){for(let r of t.fusionRecipe)if(2===r.length&&r.includes(e.slug)&&r.includes(s.slug))return t}return null})(e,t):null,j=e&&t&&!y?((e,s)=>{let t=new Set,r=(e,s)=>!e.isSpawner||s.replace(/^k/,"").replace(/^hupg_/,"").toLowerCase()!==e.slug.replace(/^hupg_/,"").toLowerCase();return e.hitEffects&&e.hitEffects.forEach(s=>{r(e,s)&&t.add(s)}),s.hitEffects&&s.hitEffects.forEach(e=>{r(s,e)&&t.add(e)}),e.aoeTypes&&e.aoeTypes.forEach(s=>{r(e,s)&&t.add(s)}),s.aoeTypes&&s.aoeTypes.forEach(e=>{r(s,e)&&t.add(e)}),e.specials&&e.specials.forEach(s=>{r(e,s)&&t.add(s)}),s.specials&&s.specials.forEach(e=>{r(s,e)&&t.add(e)}),e.isSpawner&&t.add("Spawner"),s.isSpawner&&t.add("Spawner"),Array.from(t)})(e,t):[],N=e&&t&&!y?((e,s)=>{let t=[];for(let a of[()=>e.isMosquitoSpawner?(t.push({type:"mosquito_combo",description:(0,r.jsxs)(r.Fragment,{children:["Mosquitoes also inflict hit effects from"," ",(0,r.jsx)("span",{className:"font-pixel text-2xl tracking-wider",children:s.name})," ","when hitting an enemy"]})}),!0):!!s.isMosquitoSpawner&&(t.push({type:"mosquito_combo",description:(0,r.jsxs)(r.Fragment,{children:["Mosquitoes also inflict hit effects from"," ",(0,r.jsx)("span",{className:"font-pixel text-2xl tracking-wider",children:e.name})," ","when hitting an enemy"]})}),!0),()=>e.isSpawner&&!s.isSpawner?(t.push({type:"spawner_combo",description:(0,r.jsxs)(r.Fragment,{children:["Spawned balls from"," ",(0,r.jsx)("span",{className:"font-pixel text-2xl tracking-wider",children:e.name})," ","have the same properties as"," ",(0,r.jsx)("span",{className:"font-pixel text-2xl tracking-wider",children:s.name})]})}),!0):!!s.isSpawner&&!e.isSpawner&&(t.push({type:"spawner_combo",description:(0,r.jsxs)(r.Fragment,{children:["Spawned balls from"," ",(0,r.jsx)("span",{className:"font-pixel text-2xl tracking-wider",children:s.name})," ","have the same properties as"," ",(0,r.jsx)("span",{className:"font-pixel text-2xl tracking-wider",children:e.name})]})}),!0),()=>!0===e.isAOE&&!0===s.isStatusEffect?(t.push({type:"aoe_hiteff_combo",description:(0,r.jsxs)(r.Fragment,{children:["Area-of-effect damage from"," ",(0,r.jsx)("span",{className:"font-pixel text-2xl tracking-wider",children:e.name})," ","also inflicts status effects from"," ",(0,r.jsx)("span",{className:"font-pixel text-2xl tracking-wider",children:s.name})]})}),!0):!0===s.isAOE&&!0===e.isStatusEffect&&(t.push({type:"aoe_hiteff_combo",description:(0,r.jsxs)(r.Fragment,{children:["Area-of-effect damage from"," ",(0,r.jsx)("span",{className:"font-pixel text-2xl tracking-wider",children:s.name})," ","also inflicts status effects from"," ",(0,r.jsx)("span",{className:"font-pixel text-2xl tracking-wider",children:e.name})]})}),!0),()=>!!e.isGlacier&&!0===s.isStatusEffect&&(t.push({type:"glacier_combo",description:(0,r.jsxs)(r.Fragment,{children:["Glacial Spikes apply the hit effects from"," ",(0,r.jsx)("span",{className:"font-pixel text-2xl tracking-wider",children:s.name})," ","when touching an enemy"]})}),!0)])if(a())break;return t})(e,t):[];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h2",{className:"text-center font-pixel text-xl tracking-wider text-primary sm:text-2xl",children:"Select Two Balls to Fuse"}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,r.jsx)("button",{onClick:()=>x("A"===d?null:"A"),className:"flex h-32 w-32 items-center justify-center rounded-lg border-4 transition-all sm:h-40 sm:w-40 ".concat("A"===d?"border-highlight bg-card-header shadow-lg":e?"border-primary bg-body hover:border-highlight":"border-dashed border-primary bg-body/50 hover:border-highlight"),children:e?(0,r.jsx)(n.A,{slug:e.slug,name:e.name,className:"h-24 w-24 sm:h-32 sm:w-32"}):(0,r.jsx)("span",{className:"font-pixel text-lg text-secondary",children:"Slot A"})}),(0,r.jsx)("button",{onClick:()=>{s(t),c(e)},disabled:!e||!t,className:"flex h-12 w-12 items-center justify-center rounded-lg border-2 border-primary bg-body text-primary transition-colors hover:border-highlight hover:bg-card-header disabled:opacity-30",children:(0,r.jsx)(h.gc,{icon:m.Jtu,className:"h-6 w-6"})}),(0,r.jsx)("button",{onClick:()=>x("B"===d?null:"B"),className:"flex h-32 w-32 items-center justify-center rounded-lg border-4 transition-all sm:h-40 sm:w-40 ".concat("B"===d?"border-highlight bg-card-header shadow-lg":t?"border-primary bg-body hover:border-highlight":"border-dashed border-primary bg-body/50 hover:border-highlight"),children:t?(0,r.jsx)(n.A,{slug:t.slug,name:t.name,className:"h-24 w-24 sm:h-32 sm:w-32"}):(0,r.jsx)("span",{className:"font-pixel text-lg text-secondary",children:"Slot B"})})]})]}),d&&(0,r.jsxs)("div",{className:"space-y-3 rounded-lg border-2 border-highlight bg-body p-4",children:[(0,r.jsxs)("h3",{className:"font-pixel text-lg tracking-wider text-primary sm:text-xl",children:["Select Ball for Slot ",d]}),(0,r.jsx)("input",{type:"text",placeholder:"Search balls...",value:p,onChange:e=>g(e.target.value),className:"w-full rounded-lg border-2 border-primary bg-primary px-4 py-2 text-base text-primary placeholder:text-primary/50 focus:border-highlight focus:ring-0 sm:text-lg"}),(0,r.jsx)("div",{className:"grid grid-cols-6 gap-2 sm:grid-cols-8 md:grid-cols-10",children:b.map(a=>{let l="A"===d&&(null==t?void 0:t.slug)===a.slug||"B"===d&&(null==e?void 0:e.slug)===a.slug;return(0,r.jsx)("button",{onClick:()=>(r=>{if("A"===d)t&&t.slug===r.slug||(s(r),x(null));else if("B"===d){if(e&&e.slug===r.slug)return;c(r),x(null)}})(a),disabled:l,className:"flex aspect-square items-center justify-center rounded-lg border-2 p-1 transition-all ".concat(l?"cursor-not-allowed border-red-500/50 bg-red-900/20 opacity-50":"border-primary bg-body hover:border-highlight hover:bg-card-header"),title:l?"Cannot fuse two of the same ball":a.name,children:(0,r.jsx)(n.A,{slug:a.slug,name:a.name,className:"h-full w-full"})},a.id)})})]}),e&&t&&(0,r.jsx)("div",{className:"space-y-4",children:y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"card-primary",children:(0,r.jsx)("div",{className:"card-text-box",children:(0,r.jsxs)("p",{className:"font-pixel text-2xl tracking-wider text-secondary",children:[e.name," \xd7 ",t.name," cannot fuse as they already have the EVOLUTION:"]})})}),(0,r.jsx)(i.A,{ball:y,disableMobileExpand:!0})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"overflow-hidden rounded-lg border-2 border-highlight bg-body",children:[(0,r.jsx)("div",{className:"w-full bg-card-header p-2 text-left sm:p-4",children:(0,r.jsxs)("div",{className:"grid h-16 grid-cols-[auto_1fr_auto_auto] items-center gap-3 sm:gap-4",children:[(0,r.jsxs)("div",{className:"flex-shrink-0",children:[(0,r.jsx)(o,{ballA:e,ballB:t,className:"h-[60px] w-[60px] sm:hidden"}),(0,r.jsx)(o,{ballA:e,ballB:t,className:"hidden h-16 w-16 sm:block"})]}),(0,r.jsxs)("h3",{className:"font-pixel text-2xl tracking-wider text-primary sm:text-2xl md:text-4xl",children:[e.name," \xd7 ",t.name]})]})}),(0,r.jsxs)("div",{className:"border-t-2 border-primary p-3 sm:block sm:p-4",children:[j.length>0&&(0,r.jsx)("div",{className:"mb-3 flex flex-wrap gap-1 sm:gap-2",children:j.map((e,s)=>(0,r.jsx)("span",{className:"rounded border-2 border-highlight bg-primary px-2 py-1 text-base font-semibold text-secondary sm:text-lg",children:(e=>{let s=e.replace(/^k/,"");return"Frozen"===s?"Freeze":"LaserHorz"===s||"LaserVert"===s||"Ray"===s?"Laser":s.replace(/([A-Z])/g," $1").trim()})(e)},"".concat(e,"-").concat(s)))}),(0,r.jsxs)("div",{className:"mb-3 space-y-4 rounded-lg bg-primary p-3 sm:p-4",children:[(0,r.jsx)("div",{className:"text-center text-lg leading-relaxed text-secondary sm:text-lg",children:f(e,3)}),(0,r.jsx)("div",{className:"text-center text-lg leading-relaxed text-secondary sm:text-lg",children:f(t,3)})]}),N.length>0&&(0,r.jsx)("div",{className:"space-y-4 rounded-lg bg-primary p-3 sm:p-4",children:N.map((e,s)=>(0,r.jsx)("div",{className:"text-center text-lg leading-relaxed text-secondary sm:text-lg",children:(0,r.jsx)("p",{className:"text-base leading-relaxed text-secondary sm:text-lg",children:e.description})},"".concat(e.type,"-").concat(s)))})]})]})})}),!d&&!e&&!t&&(0,r.jsx)("div",{className:"rounded-lg bg-primary p-4 text-center",children:(0,r.jsx)("p",{className:"font-pixel text-base tracking-wider text-secondary sm:text-lg",children:"Click on a slot to select a ball for fusion"})})]})}function p(){return(0,r.jsx)(x,{})}},6387:(e,s,t)=>{Promise.resolve().then(t.bind(t,428))},7789:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});var r=t(4568),a=t(7620),l=t(1465),n=t(6018),i=t(2635),c=t(8459);function d(e){let{ball:s,disableMobileExpand:t=!1,isGridExpanded:d=!1}=e,[o,h]=(0,a.useState)(1),[m,x]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),u=s["level".concat(o)],f=0===s.fusionRecipe.length?"Basic":s.fusionRecipe[0].length>=3?"Legendary":"Evolved",b=(()=>{if(!s.ballColor)return"#f59e0b";let e=s.ballColor.match(/r:\s*([\d.]+),\s*g:\s*([\d.]+),\s*b:\s*([\d.]+)/);if(!e)return"#f59e0b";let t=Math.round(255*parseFloat(e[1])),r=Math.round(255*parseFloat(e[2])),a=Math.round(255*parseFloat(e[3]));return"#".concat(t.toString(16).padStart(2,"0")).concat(r.toString(16).padStart(2,"0")).concat(a.toString(16).padStart(2,"0"))})(),y=e=>!s.isSpawner||e.replace(/^k/,"").replace(/^hupg_/,"").toLowerCase()!==s.slug.replace(/^hupg_/,"").toLowerCase(),j=[...s.hitEffects.filter(y),...s.aoeTypes.filter(y),...s.specials.filter(y)],N=j.length>0?j:["Normal"];return(0,r.jsxs)("div",{className:"overflow-hidden rounded-lg border-2 bg-body shadow-md transition-all ".concat(d?"border-highlight":"border-primary hover:border-highlight"),children:[(0,r.jsx)("button",{onClick:()=>!t&&x(!m),className:"w-full p-2 text-left sm:p-4 ".concat(t?"cursor-default bg-card-header sm:cursor-default":m?"bg-card-header":"bg-secondary sm:cursor-default sm:bg-card-header"),children:(0,r.jsxs)("div",{className:"grid h-16 grid-cols-[auto_1fr_auto_auto] items-center gap-3 sm:gap-4",children:[(0,r.jsxs)("div",{className:"flex-shrink-0",children:[(0,r.jsx)(n.A,{slug:s.slug,name:s.name,className:"h-16 w-16 sm:hidden"}),(0,r.jsx)(n.A,{slug:s.slug,name:s.name,className:"hidden h-16 w-16 sm:block"})]}),(0,r.jsx)("div",{className:"min-w-0",children:(0,r.jsx)("h3",{className:"font-pixel text-2xl tracking-wider text-primary sm:text-2xl md:text-4xl",children:s.name})}),(0,r.jsxs)("div",{className:"flex flex-col items-end justify-center gap-1",children:[(0,r.jsx)("span",{className:"whitespace-nowrap rounded px-2 py-0.5 text-base sm:text-lg ".concat(m?"bg-secondary":"bg-card-header sm:bg-secondary"),children:f}),s.isSpawner?(0,r.jsx)("span",{className:"whitespace-nowrap rounded px-2 py-0.5 text-base sm:text-lg ".concat(m?"bg-secondary":"bg-card-header sm:bg-secondary"),children:"Spawner"}):(0,r.jsx)("div",{className:"h-5 sm:h-6"})]}),!t&&(0,r.jsx)("div",{className:"flex-shrink-0 sm:hidden",children:(0,r.jsx)(i.gc,{icon:m?c.w2A:c.Jt$,className:"h-5 w-5 text-primary"})})]})}),(0,r.jsxs)("div",{className:"".concat(t||m?"block":"hidden"," border-t-2 border-primary p-3 sm:block sm:p-4"),children:[N.length>0&&(0,r.jsx)("div",{className:"mb-3 flex flex-wrap gap-1 sm:gap-2",children:N.map((e,s)=>(0,r.jsx)("span",{className:"rounded border-2 border-highlight bg-primary px-2 py-1 text-base font-semibold text-secondary sm:text-lg",children:(e=>{let s=e.replace(/^k/,"");return"Frozen"===s?"Freeze":"LaserHorz"===s||"LaserVert"===s||"Ray"===s?"Laser":s.replace(/([A-Z])/g," $1").trim()})(e)},"".concat(e,"-").concat(s)))}),(0,r.jsx)("div",{className:"mb-3 flex gap-2",children:[1,2,3].map(e=>(0,r.jsxs)("button",{onClick:()=>h(e),className:"flex-1 rounded-lg px-3 py-2 text-lg tracking-wider transition-colors sm:text-xl ".concat(o===e?"bg-highlight text-primary":"card-text-box"),children:["Level ",e]},e))}),(0,r.jsx)("div",{className:"mb-3 rounded-lg bg-primary p-3 sm:p-4",children:(0,r.jsx)("p",{className:"text-justify text-lg leading-relaxed text-secondary sm:text-lg",children:(()=>{let e,t=[],a=0,l=/\{\[(\w+)\]\}/g;for(;null!==(e=l.exec(s.description));){e.index>a&&t.push(s.description.substring(a,e.index));let n=e[1],i=u[n];if(void 0!==i){let s=i;if(n.includes("_length")||n.includes("_len")||n.includes("cycle")||n.includes("cooldown")){let e="number"==typeof i?i:parseFloat(String(i));isNaN(e)||(s=(e/10).toFixed(1))}else(n.includes("_chance")||n.includes("_pct"))&&(s="".concat(i,"%"));t.push((0,r.jsx)("span",{className:"font-bold",style:{color:b},children:String(s)},e.index))}else t.push(e[0]);a=l.lastIndex}a<s.description.length&&t.push(s.description.substring(a));let n=t[t.length-1];return"string"!=typeof n||n.trim().endsWith(".")?"string"!=typeof n&&t.length>0&&t.push("."):t[t.length-1]=n+".",t})()})}),(0,r.jsxs)("div",{className:"space-y-1 text-base text-secondary sm:text-base",children:[s.fusionRecipe.length>0&&(0,r.jsxs)("div",{className:"rounded-lg bg-primary p-2 sm:p-3",children:[(0,r.jsx)("strong",{className:"text-primary",children:"Recipe:"})," ",s.fusionRecipe.map(e=>e.map(e=>{var s;return(null==(s=(0,l.WU)(e))?void 0:s.name)||e}).join(" + ")).join(" | ")]}),s.evolvesInto.length>0&&(0,r.jsxs)("div",{className:"rounded-lg bg-primary p-2 sm:p-3",children:[(0,r.jsxs)("button",{onClick:()=>g(!p),className:"hover:text-highlight flex w-full items-center justify-between text-left transition-colors",children:[(0,r.jsxs)("span",{children:[(0,r.jsx)("strong",{className:"text-primary",children:"Evolves into:"})," ",s.evolvesInto.map(e=>{var s;return(null==(s=(0,l.WU)(e))?void 0:s.name)||e}).join(", ")]}),(0,r.jsx)(i.gc,{icon:p?c.w2A:c.Jt$,className:"ml-2 h-4 w-4 flex-shrink-0 text-secondary"})]}),p&&(0,r.jsx)("div",{className:"mt-3 grid grid-cols-1 gap-2 sm:grid-cols-2",children:s.evolvesInto.map(e=>{let t=(0,l.WU)(e);if(!t)return null;let a=t.fusionRecipe.find(e=>e.includes(s.slug)),i=null==a?void 0:a.find(e=>e!==s.slug),c=i?(0,l.WU)(i):null;return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 rounded border-2 border-primary/30 bg-body p-2",children:[(0,r.jsx)("div",{className:"flex flex-col items-center",children:(0,r.jsx)(n.A,{slug:s.slug,name:s.name,className:"h-16 w-16"})}),(0,r.jsx)("span",{className:"text-2xl font-bold text-secondary",children:"+"}),c?(0,r.jsx)("div",{className:"flex flex-col items-center",children:(0,r.jsx)(n.A,{slug:c.slug,name:c.name,className:"h-16 w-16"})}):(0,r.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded border-2 border-dashed border-primary/30",children:(0,r.jsx)("span",{className:"text-xs text-primary/50",children:"?"})}),(0,r.jsx)("span",{className:"text-2xl font-bold text-secondary",children:"="}),(0,r.jsx)("div",{className:"flex flex-col items-center",children:(0,r.jsx)(n.A,{slug:t.slug,name:t.name,className:"h-16 w-16"})})]},e)})})]})]})]})]})}}},e=>{e.O(0,[63,635,773,50,587,902,358],()=>e(e.s=6387)),_N_E=e.O()}]);