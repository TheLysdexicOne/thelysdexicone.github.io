(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[918],{3098:(e,s,r)=>{Promise.resolve().then(r.bind(r,6302))},6302:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o});var t=r(4568),l=r(7620),a=r(1465),i=r(7789),n=r(6018),c=r(2635),d=r(8459);function o(){let[e,s]=(0,l.useState)("list"),[r,o]=(0,l.useState)("all"),[h,x]=(0,l.useState)("encyclopedia"),[p,m]=(0,l.useState)(""),[g,u]=(0,l.useState)(!1),[b,f]=(0,l.useState)(null),[y,j]=(0,l.useState)(!1),[v,w]=(0,l.useState)(2),N=(0,l.useRef)({});(0,l.useEffect)(()=>{{let e=localStorage.getItem("balls-view-type");("list"===e||"grid"===e)&&s(e),j(!0)}},[]),(0,l.useEffect)(()=>{y&&localStorage.setItem("balls-view-type",e)},[e,y]),(0,l.useEffect)(()=>{if(b&&1){let e=N.current[b];e&&window.innerWidth<1024&&setTimeout(()=>{let s=e.getBoundingClientRect().top+window.pageYOffset-88;window.scrollTo({top:s,behavior:"smooth"})},100)}},[b]),(0,l.useEffect)(()=>{let e=()=>{{let e=window.innerWidth;e>=1280?w(8):e>=1024||e>=768?w(6):e>=640?w(5):w(4)}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let k=(0,l.useMemo)(()=>{let e;switch(r){case"basic":e=(0,a.Dk)();break;case"fusion":e=(0,a.dn)();break;default:e=(0,a.qy)()}if(p){let s=p.toLowerCase().replace(/\s+/g,"");e=e.filter(e=>{let r=e.name.toLowerCase().replace(/\s+/g,""),t=e.slug.toLowerCase().replace(/\s+/g,""),l=e.description.toLowerCase().replace(/\s+/g,"");return r.includes(s)||t.includes(s)||l.includes(s)})}return"encyclopedia"===h?[...e].sort((e,s)=>{let r=e.fusionRecipe.length>0?e.fusionRecipe[0].length:0,t=s.fusionRecipe.length>0?s.fusionRecipe[0].length:0;return r!==t?r-t:e.name.localeCompare(s.name)}):[...e].sort((e,s)=>e.name.localeCompare(s.name))},[r,h,p]);return y?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"card-primary my-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>s("list"),className:"flex-1 rounded-lg px-4 py-2 font-pixel text-2xl tracking-wider transition-colors sm:text-4xl ".concat("list"===e?"bg-btn-primary-highlight text-primary":"card-text-box"),children:"List View"}),(0,t.jsx)("button",{onClick:()=>s("grid"),className:"flex-1 rounded-lg px-4 py-2 font-pixel text-2xl tracking-wider transition-colors sm:text-4xl ".concat("grid"===e?"bg-btn-primary-highlight text-primary":"card-text-box"),children:"Grid View"})]}),(0,t.jsxs)("button",{onClick:()=>u(!g),className:"flex w-full items-center justify-between rounded-lg border-2 border-primary bg-primary px-4 py-2 text-base tracking-wider text-primary transition-colors hover:border-highlight sm:text-lg lg:hidden",children:[(0,t.jsx)("span",{children:"Search & Filters"}),(0,t.jsx)(c.gc,{icon:g?d.w2A:d.Jt$,className:"h-4 w-4"})]}),(0,t.jsxs)("div",{className:"space-y-3 ".concat(g?"block":"hidden"," lg:block"),children:[(0,t.jsx)("input",{type:"text",placeholder:"Search balls...",value:p,onChange:e=>m(e.target.value),className:"w-full rounded-lg border-2 border-primary bg-primary px-4 py-2 text-base text-primary placeholder:text-primary/50 focus:border-highlight focus:ring-0 sm:text-lg"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[(0,t.jsxs)("select",{value:r,onChange:e=>o(e.target.value),className:"w-full cursor-pointer rounded-lg border-2 border-primary bg-primary px-4 py-2 text-base tracking-wider text-primary focus:border-highlight focus:ring-0 sm:text-lg",children:[(0,t.jsxs)("option",{value:"all",children:["All Balls (",(0,a.qy)().length,")"]}),(0,t.jsxs)("option",{value:"basic",children:["Basic (",(0,a.Dk)().length,")"]}),(0,t.jsxs)("option",{value:"fusion",children:["Fusion (",(0,a.dn)().length,")"]})]}),(0,t.jsxs)("select",{value:h,onChange:e=>x(e.target.value),className:"w-full cursor-pointer rounded-lg border-2 border-primary bg-primary px-4 py-2 text-base tracking-wider text-primary focus:border-highlight focus:ring-0 sm:text-lg",children:[(0,t.jsx)("option",{value:"encyclopedia",children:"Sort: Encyclopedia"}),(0,t.jsx)("option",{value:"name",children:"Sort: Alphabetical"})]})]})]})]}),p&&(0,t.jsxs)("div",{className:"mb-3 text-center font-pixel text-sm tracking-wider text-secondary sm:text-base",children:["Found ",k.length," ball",1!==k.length?"s":""]}),"list"===e?(0,t.jsx)("div",{className:"space-y-4 px-2 py-2",children:k.map(e=>(0,t.jsx)(i.A,{ball:e},e.id))}):(0,t.jsx)("div",{className:"space-y-3 overflow-visible",children:(()=>{let e=b?k.findIndex(e=>e.id===b):-1,s=e>=0?Math.floor(e/v)*v+v:-1,r=[];if(k.forEach((l,a)=>{let c=b===l.id,d=a%v;if(r.push((0,t.jsxs)("div",{ref:e=>{N.current[l.id]=e},className:c?"relative":"",children:[(0,t.jsx)("button",{onClick:()=>f(c?null:l.id),className:"z-50 flex aspect-square h-full w-full items-center justify-center rounded-lg border-2 p-1 ".concat(c?"rounded-b-none border-highlight border-b-transparent bg-card-header shadow-lg":"border-primary bg-body hover:border-highlight hover:bg-card-header"),children:(0,t.jsx)(n.A,{slug:l.slug,name:l.name,className:"h-full w-full"})}),c&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"pointer-events-none absolute left-0 right-0 h-5 w-full -translate-y-[9px] border-x-2 border-b-2 border-highlight border-b-transparent bg-card-header"}),d===v-1&&(0,t.jsx)("div",{className:"pointer-events-none absolute right-0 h-3 w-1/2 translate-y-[2px] border-r-2 border-highlight bg-card-header"}),0===d&&(0,t.jsx)("div",{className:"pointer-events-none absolute left-0 h-3 w-1/2 translate-y-[2px] border-l-2 border-highlight bg-card-header"})]})]},l.id)),s>=0&&a===s-1){let s=k[e];r.push((0,t.jsx)("div",{className:"col-span-full",children:(0,t.jsx)(i.A,{ball:s,disableMobileExpand:!0,isGridExpanded:!0})},"expanded-".concat(s.id)))}}),e>=0&&s>k.length){let s=k[e];r.push((0,t.jsx)("div",{className:"col-span-full",children:(0,t.jsx)(i.A,{ball:s,disableMobileExpand:!0,isGridExpanded:!0})},"expanded-".concat(s.id)))}return(0,t.jsx)("div",{className:"grid gap-2 overflow-visible",style:{gridTemplateColumns:"repeat(".concat(v,", minmax(0, 1fr))"),gridAutoRows:"auto"},children:r})})()}),0===k.length&&(0,t.jsx)("div",{className:"card-text-box py-8",children:"No balls found matching your criteria."})]}):(0,t.jsx)("div",{className:"flex min-h-[200px] items-center justify-center",children:(0,t.jsx)("div",{className:"font-pixel text-lg tracking-wider text-secondary",children:"Loading..."})})}},7789:(e,s,r)=>{"use strict";r.d(s,{A:()=>d});var t=r(4568),l=r(7620),a=r(1465),i=r(6018),n=r(2635),c=r(8459);function d(e){let{ball:s,disableMobileExpand:r=!1,isGridExpanded:d=!1}=e,[o,h]=(0,l.useState)(1),[x,p]=(0,l.useState)(!1),[m,g]=(0,l.useState)(!1),u=s["level".concat(o)],b=0===s.fusionRecipe.length?"Basic":s.fusionRecipe[0].length>=3?"Legendary":"Evolved",f=(()=>{if(!s.ballColor)return"#f59e0b";let e=s.ballColor.match(/r:\s*([\d.]+),\s*g:\s*([\d.]+),\s*b:\s*([\d.]+)/);if(!e)return"#f59e0b";let r=Math.round(255*parseFloat(e[1])),t=Math.round(255*parseFloat(e[2])),l=Math.round(255*parseFloat(e[3]));return"#".concat(r.toString(16).padStart(2,"0")).concat(t.toString(16).padStart(2,"0")).concat(l.toString(16).padStart(2,"0"))})(),y=e=>!s.isSpawner||e.replace(/^k/,"").replace(/^hupg_/,"").toLowerCase()!==s.slug.replace(/^hupg_/,"").toLowerCase(),j=[...s.hitEffects.filter(y),...s.aoeTypes.filter(y),...s.specials.filter(y)],v=j.length>0?j:["Normal"];return(0,t.jsxs)("div",{className:"overflow-hidden rounded-lg border-2 bg-body shadow-md transition-all ".concat(d?"border-highlight":"border-primary hover:border-highlight"),children:[(0,t.jsx)("button",{onClick:()=>!r&&p(!x),className:"w-full p-2 text-left sm:p-4 ".concat(r?"cursor-default bg-card-header sm:cursor-default":x?"bg-card-header":"bg-secondary sm:cursor-default sm:bg-card-header"),children:(0,t.jsxs)("div",{className:"grid h-16 grid-cols-[auto_1fr_auto_auto] items-center gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{className:"flex-shrink-0",children:[(0,t.jsx)(i.A,{slug:s.slug,name:s.name,className:"h-16 w-16 sm:hidden"}),(0,t.jsx)(i.A,{slug:s.slug,name:s.name,className:"hidden h-16 w-16 sm:block"})]}),(0,t.jsx)("div",{className:"min-w-0",children:(0,t.jsx)("h3",{className:"font-pixel text-2xl tracking-wider text-primary sm:text-2xl md:text-4xl",children:s.name})}),(0,t.jsxs)("div",{className:"flex flex-col items-end justify-center gap-1",children:[(0,t.jsx)("span",{className:"whitespace-nowrap rounded px-2 py-0.5 text-base sm:text-lg ".concat(x?"bg-secondary":"bg-card-header sm:bg-secondary"),children:b}),s.isSpawner?(0,t.jsx)("span",{className:"whitespace-nowrap rounded px-2 py-0.5 text-base sm:text-lg ".concat(x?"bg-secondary":"bg-card-header sm:bg-secondary"),children:"Spawner"}):(0,t.jsx)("div",{className:"h-5 sm:h-6"})]}),!r&&(0,t.jsx)("div",{className:"flex-shrink-0 sm:hidden",children:(0,t.jsx)(n.gc,{icon:x?c.w2A:c.Jt$,className:"h-5 w-5 text-primary"})})]})}),(0,t.jsxs)("div",{className:"".concat(r||x?"block":"hidden"," border-t-2 border-primary p-3 sm:block sm:p-4"),children:[v.length>0&&(0,t.jsx)("div",{className:"mb-3 flex flex-wrap gap-1 sm:gap-2",children:v.map((e,s)=>(0,t.jsx)("span",{className:"rounded border-2 border-highlight bg-primary px-2 py-1 text-base font-semibold text-secondary sm:text-lg",children:(e=>{let s=e.replace(/^k/,"");return"Frozen"===s?"Freeze":"LaserHorz"===s||"LaserVert"===s||"Ray"===s?"Laser":s.replace(/([A-Z])/g," $1").trim()})(e)},"".concat(e,"-").concat(s)))}),(0,t.jsx)("div",{className:"mb-3 flex gap-2",children:[1,2,3].map(e=>(0,t.jsxs)("button",{onClick:()=>h(e),className:"flex-1 rounded-lg px-3 py-2 text-lg tracking-wider transition-colors sm:text-xl ".concat(o===e?"bg-highlight text-primary":"card-text-box"),children:["Level ",e]},e))}),(0,t.jsx)("div",{className:"mb-3 rounded-lg bg-primary p-3 sm:p-4",children:(0,t.jsx)("p",{className:"text-justify text-lg leading-relaxed text-secondary sm:text-lg",children:(()=>{let e,r=[],l=0,a=/\{\[(\w+)\]\}/g;for(;null!==(e=a.exec(s.description));){e.index>l&&r.push(s.description.substring(l,e.index));let i=e[1],n=u[i];if(void 0!==n){let s=n;if(i.includes("_length")||i.includes("_len")||i.includes("cycle")||i.includes("cooldown")){let e="number"==typeof n?n:parseFloat(String(n));isNaN(e)||(s=(e/10).toFixed(1))}else(i.includes("_chance")||i.includes("_pct"))&&(s="".concat(n,"%"));r.push((0,t.jsx)("span",{className:"font-bold",style:{color:f},children:String(s)},e.index))}else r.push(e[0]);l=a.lastIndex}l<s.description.length&&r.push(s.description.substring(l));let i=r[r.length-1];return"string"!=typeof i||i.trim().endsWith(".")?"string"!=typeof i&&r.length>0&&r.push("."):r[r.length-1]=i+".",r})()})}),(0,t.jsxs)("div",{className:"space-y-1 text-base text-secondary sm:text-base",children:[s.fusionRecipe.length>0&&(0,t.jsxs)("div",{className:"rounded-lg bg-primary p-2 sm:p-3",children:[(0,t.jsx)("strong",{className:"text-primary",children:"Recipe:"})," ",s.fusionRecipe.map(e=>e.map(e=>{var s;return(null==(s=(0,a.WU)(e))?void 0:s.name)||e}).join(" + ")).join(" | ")]}),s.evolvesInto.length>0&&(0,t.jsxs)("div",{className:"rounded-lg bg-primary p-2 sm:p-3",children:[(0,t.jsxs)("button",{onClick:()=>g(!m),className:"hover:text-highlight flex w-full items-center justify-between text-left transition-colors",children:[(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{className:"text-primary",children:"Evolves into:"})," ",s.evolvesInto.map(e=>{var s;return(null==(s=(0,a.WU)(e))?void 0:s.name)||e}).join(", ")]}),(0,t.jsx)(n.gc,{icon:m?c.w2A:c.Jt$,className:"ml-2 h-4 w-4 flex-shrink-0 text-secondary"})]}),m&&(0,t.jsx)("div",{className:"mt-3 grid grid-cols-1 gap-2 sm:grid-cols-2",children:s.evolvesInto.map(e=>{let r=(0,a.WU)(e);if(!r)return null;let l=r.fusionRecipe.find(e=>e.includes(s.slug)),n=null==l?void 0:l.find(e=>e!==s.slug),c=n?(0,a.WU)(n):null;return(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 rounded border-2 border-primary/30 bg-body p-2",children:[(0,t.jsx)("div",{className:"flex flex-col items-center",children:(0,t.jsx)(i.A,{slug:s.slug,name:s.name,className:"h-16 w-16"})}),(0,t.jsx)("span",{className:"text-2xl font-bold text-secondary",children:"+"}),c?(0,t.jsx)("div",{className:"flex flex-col items-center",children:(0,t.jsx)(i.A,{slug:c.slug,name:c.name,className:"h-16 w-16"})}):(0,t.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded border-2 border-dashed border-primary/30",children:(0,t.jsx)("span",{className:"text-xs text-primary/50",children:"?"})}),(0,t.jsx)("span",{className:"text-2xl font-bold text-secondary",children:"="}),(0,t.jsx)("div",{className:"flex flex-col items-center",children:(0,t.jsx)(i.A,{slug:r.slug,name:r.name,className:"h-16 w-16"})})]},e)})})]})]})]})]})}}},e=>{e.O(0,[63,635,773,50,587,902,358],()=>e(e.s=3098)),_N_E=e.O()}]);