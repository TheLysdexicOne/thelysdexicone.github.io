(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[841],{1293:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>f});var a=t(4568),s=t(7620),i=t(9429),n=t(8316),l=t(6018),c=t(1465),d=t(6506),o=t(2635),x=t(8459),m=t(9766),g=t(3497),h=t(441);function u(e){let{hero:r,isDragging:t=!1,dragHandleProps:s}=e,i=r.starterBall?(0,c.WU)(r.starterBall):null;return(0,a.jsxs)("div",{className:"group flex items-center gap-4 rounded-lg border-2 bg-nav/70 px-2 py-2 transition-colors sm:px-5 ".concat(t?"border-highlight bg-nav/60 shadow-[0_0_15px_rgba(226,170,97,0.3)]":"border-primary/60 hover:border-highlight hover:bg-nav/60"),children:[(0,a.jsx)("div",{className:"relative flex h-16 w-16 flex-shrink-0 items-center justify-center overflow-hidden rounded-lg border-2 border-primary/60 bg-body sm:h-20 sm:w-20",children:(0,a.jsx)(n.A,{slug:r.id,name:r.name,type:"portrait",className:"h-full w-full",highlighted:t})}),(0,a.jsxs)("div",{className:"flex flex-1 flex-col gap-0.5",children:[(0,a.jsx)("span",{className:"font-pixel text-base uppercase tracking-widest text-secondary sm:text-xl",children:r.name}),i&&(0,a.jsx)("span",{className:"font-pixel text-xs text-primary sm:text-base sm:tracking-widest",children:i.name})]}),i&&(0,a.jsx)("div",{className:"hidden h-16 w-16 flex-shrink-0 items-center justify-center rounded-lg border-2 border-primary/60 bg-body sm:flex sm:h-20 sm:w-20",children:(0,a.jsx)(l.A,{slug:i.slug,name:i.name,className:"h-[50px] w-[50px]"})}),(0,a.jsx)("button",{type:"button","aria-label":"Reorder ".concat(r.name),className:"flex h-12 w-12 flex-shrink-0 cursor-grab items-center justify-center rounded-lg text-xl text-primary hover:text-secondary active:cursor-grabbing",...s,children:(0,a.jsx)(o.gc,{icon:x.S9g})})]})}function p(e){let{hero:r,index:t,isDragging:s}=e,{attributes:i,listeners:n,setNodeRef:l,transform:c,transition:d}=(0,g.gl)({id:r.id}),o={transform:h.Ks.Transform.toString(c),transition:d||"transform 200ms ease",opacity:s?.3:1},x={...i,...n,style:{touchAction:"manipulation"}};return(0,a.jsx)("li",{ref:l,style:o,children:(0,a.jsx)(u,{hero:r,isDragging:s,dragHandleProps:x})})}function f(){let{getSortedCharacters:e,updateCharacterOrders:r}=(0,d.t)(),[t,n]=(0,s.useState)([]),[l,c]=(0,s.useState)(null),[o,x]=(0,s.useState)(!1),h=(0,m.FR)((0,m.MS)(m.cA),(0,m.MS)(m.IG,{activationConstraint:{delay:250,tolerance:5}}),(0,m.MS)(m.uN,{coordinateGetter:g.JR}));(0,s.useEffect)(()=>{if(o)return void x(!1);let r=e(),t=(0,i.w)();n(r.map(e=>t.find(r=>r.id===e.characterId)).filter(e=>void 0!==e))},[e,o]);let f=l?t.find(e=>e.id===l):null;return(0,a.jsxs)("div",{className:"flex w-full max-w-4xl flex-col items-center justify-center",children:[(0,a.jsx)("div",{className:"card-primary w-full",children:(0,a.jsx)("div",{className:"card-text-box m-0 font-pixel text-sm uppercase tracking-widest text-secondary sm:text-base",children:"Drag characters up or down to change the order they appear."})}),(0,a.jsx)("div",{className:"card-primary w-full",children:(0,a.jsxs)(m.Mp,{sensors:h,collisionDetection:m.fp,onDragStart:e=>{c(e.active.id)},onDragEnd:e=>{let{active:a,over:s}=e;if(s&&a.id!==s.id){let e=t.findIndex(e=>e.id===a.id),i=t.findIndex(e=>e.id===s.id),l=(0,g.be)(t,e,i);n(l),x(!0),setTimeout(()=>{r(l.map((e,r)=>({characterId:e.id,customIndex:r})))},0)}c(null)},children:[(0,a.jsx)(g.gB,{items:t.map(e=>e.id),strategy:g._G,children:(0,a.jsx)("ul",{className:"flex flex-col gap-2",children:t.map((e,r)=>(0,a.jsx)(p,{hero:e,index:r,isDragging:l===e.id},e.id))})}),(0,a.jsx)(m.Hd,{children:f?(0,a.jsx)(u,{hero:f}):null})]})})]})}},3561:(e,r,t)=>{Promise.resolve().then(t.bind(t,1293))},8316:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var a=t(4568),s=t(1773),i=t(6827);function n(e){let{slug:r,name:t,type:n,className:l="",onClick:c,onDragStart:d,onDragOver:o,onDrop:x,draggable:m=!1,highlighted:g=!1,children:h}=e,u=(0,i.W)("/images/characters/".concat(n,"/").concat(r,".png")),p={imageRendering:"pixelated",objectFit:"contain"};return g&&(p.filter="drop-shadow(0 0 2px rgba(255, 255, 255, 0.9)) drop-shadow(0 0 4px rgba(255, 255, 255, 0.6)) drop-shadow(0 0 8px rgba(255, 255, 255, 0.4))"),(0,a.jsxs)("div",{className:"relative select-none ".concat(m?"cursor-grab active:cursor-grabbing":""," ").concat(l),onClick:c,onDragStart:d,onDragOver:o,onDrop:x,draggable:m,title:t,children:[(0,a.jsx)(s.default,{src:u,alt:t,fill:!0,className:"object-contain",style:p,unoptimized:!0}),h]})}}},e=>{e.O(0,[63,635,773,497,506,50,587,902,358],()=>e(e.s=3561)),_N_E=e.O()}]);